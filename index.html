<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>NEG â€” Nextgen Economy</title>



<style>
:root{
  /* â”€â”€ Black & White â”€â”€ */
  --bg:      #F8F8F8;
  --bg2:     #F0F0F0;
  --surface: #FFFFFF;
  --surf2:   #FAFAFA;
  --border:  #E0E0E0;
  --border2: #C8C8C8;
  --ink:     #111111;
  --ink2:    #333333;
  --muted:   #888888;
  --pale:    #F4F4F4;
  --gold:    #111111;
  --amber:   #444444;
  --sage:    #1A56DB;   /* bright blue accent */
  --accent2:  #0EA66A;   /* bright green accent */
  --cream:   #FFFFFF;
  --red:     #CC0000;
  --green:   #007700;

  /* per-source â€” kept vivid for recognition */
  --forbes:  #CC0000; --bloomberg:#0050B8; --reuters:#E06000;
  --wsj:     #003D8F; --ft:       #B83000; --cnbc:    #0070BB;
  --econ:    #A00000; --bi:       #10108A; --mw:      #006020; --inv:#003EA0;
}
*{margin:0;padding:0;box-sizing:border-box}
html{scroll-behavior:smooth}
body{
  font-family:-apple-system,BlinkMacSystemFont,'Helvetica Neue',Arial,sans-serif;
  font-weight:500;
  background:var(--bg);
  color:var(--ink);
  min-height:100vh;
  overflow-x:hidden;

}
a{color:inherit;text-decoration:none}
img{display:block}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   HAMBURGER â€” circle pill
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
.ham-btn{
  position:fixed;top:20px;right:22px;z-index:3500;
  width:46px;height:46px;
  background:var(--surf2);
  border:1px solid var(--border2);
  border-radius:50%;cursor:pointer;
  display:flex;flex-direction:column;
  align-items:center;justify-content:center;gap:5px;
  box-shadow:0 4px 20px rgba(0,0,0,.08);
  transition:all .28s cubic-bezier(.23,1,.32,1);
}
.ham-btn:hover{background:var(--border2);box-shadow:0 6px 28px rgba(0,0,0,.1);transform:scale(1.06)}
.ham-btn span{width:17px;height:1.5px;background:var(--ink2);border-radius:2px;transition:all .25s}
.ham-btn.open span:nth-child(1){transform:rotate(45deg) translate(4.5px,4.5px)}
.ham-btn.open span:nth-child(2){opacity:0;transform:scaleX(0)}
.ham-btn.open span:nth-child(3){transform:rotate(-45deg) translate(4.5px,-4.5px)}
.ham-overlay{display:none;position:fixed;inset:0;background:rgba(0,0,0,.35);z-index:3498;backdrop-filter:blur(4px)}
.ham-overlay.open{display:block}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   DRAWER
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
.drawer{
  position:fixed;top:0;right:-340px;width:310px;height:100vh;
  background:var(--bg2);
  border-left:1px solid var(--border2);
  z-index:3499;display:flex;flex-direction:column;
  transition:right .34s cubic-bezier(.4,0,.2,1);
  box-shadow:-16px 0 48px rgba(0,0,0,.1);
}
.drawer.open{right:0}
.d-scroll{flex:1;overflow-y:auto}
.d-scroll::-webkit-scrollbar{width:2px}
.d-scroll::-webkit-scrollbar-thumb{background:var(--border2);border-radius:2px}
.d-logo-area{
  padding:24px 20px 18px;
  border-bottom:1px solid var(--border);
  display:flex;align-items:center;gap:14px;
}
/* Drawer NEG mark â€” small version */
.d-neg-mark{
  width:44px;height:44px;border-radius:10px;
  background:#111111;
  display:flex;align-items:center;justify-content:center;
  flex-shrink:0;
  box-shadow:0 3px 12px rgba(0,0,0,.07);
}
.d-neg-mark span{
  font-family:Georgia,'Times New Roman',serif;
  font-size:18px;font-weight:400;color:#fff;
  letter-spacing:1px;line-height:1;
}
.d-title{font-family:Georgia,'Times New Roman',serif;font-size:15px;font-style:italic;color:var(--ink);line-height:1.25}
.d-sub{font-family:-apple-system,BlinkMacSystemFont,'Helvetica Neue',Arial,sans-serif;font-size:9px;color:var(--muted);letter-spacing:2px;text-transform:uppercase;margin-top:3px;font-weight:500}
.d-sec{
  font-family:-apple-system,BlinkMacSystemFont,'Helvetica Neue',Arial,sans-serif;font-size:9px;font-weight:600;
  color:var(--muted);letter-spacing:2px;text-transform:uppercase;
  padding:18px 20px 7px;
}
.d-item{
  display:flex;align-items:center;gap:10px;
  padding:9px 14px;margin:2px 8px;
  border-radius:8px;cursor:pointer;
  color:var(--ink2);font-family:-apple-system,BlinkMacSystemFont,'Helvetica Neue',Arial,sans-serif;
  font-size:13px;font-weight:500;
  transition:all .18s;
}
.d-item:hover{background:var(--pale);color:var(--ink)}
.d-item.active{background:#1A56DB;color:#fff;font-weight:600}
.d-div{height:1px;background:var(--border);margin:6px 14px}
.d-social{
  display:flex;align-items:center;gap:10px;
  padding:9px 14px;margin:2px 8px;border-radius:8px;
  cursor:pointer;color:var(--ink2);
  font-family:-apple-system,BlinkMacSystemFont,'Helvetica Neue',Arial,sans-serif;font-size:13px;font-weight:500;
  transition:all .18s;text-decoration:none;
}
.d-social:hover{background:var(--pale);color:var(--ink)}
.d-footer{
  border-top:1px solid var(--border);padding:16px 20px;
  font-family:-apple-system,BlinkMacSystemFont,'Helvetica Neue',Arial,sans-serif;font-size:10px;
  color:var(--muted);text-align:center;line-height:2;
}
.d-footer strong{color:var(--ink2);font-weight:500}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   LAYOUT
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
.main-wrap{max-width:1340px;margin:0 auto;padding:24px 24px 80px}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   HEADER
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
header{
  background:var(--surface);
  border:1px solid var(--border2);
  border-radius:20px;
  padding:32px 90px 26px 36px;
  margin-bottom:28px;
  position:relative;overflow:hidden;
  box-shadow:0 4px 24px rgba(0,0,0,.06);
}
header::before{
  content:'';position:absolute;top:-80px;right:-80px;
  width:300px;height:300px;border-radius:50%;
  background:radial-gradient(circle,rgba(0,0,0,.05) 0%,transparent 65%);
  pointer-events:none;
}
header::after{
  content:'';position:absolute;bottom:-60px;left:-40px;
  width:200px;height:200px;border-radius:50%;
  background:radial-gradient(circle,rgba(0,0,0,.03) 0%,transparent 60%);
  pointer-events:none;
}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   NEG LOGO â€” refined monogram
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
.logo-row{display:flex;align-items:center;gap:20px;margin-bottom:26px;flex-wrap:wrap;animation:logoIn .9s cubic-bezier(.23,1,.32,1) both}
@keyframes logoIn{0%{opacity:0;transform:translateY(18px)}100%{opacity:1;transform:translateY(0)}}

.neg-logo{display:flex;align-items:center;gap:16px}

/* The mark â€” clean letterform in a soft rounded tile */
.neg-mark{
  position:relative;
  width:72px;height:72px;
  border-radius:18px;
  background:#111111;
  border:1px solid rgba(0,0,0,.1);
  display:flex;align-items:center;justify-content:center;
  flex-shrink:0;
  box-shadow:
    0 8px 28px rgba(0,0,0,.08),
    inset 0 1px 0 rgba(0,0,0,.06);
  overflow:hidden;
}
.neg-mark::before{
  content:'';position:absolute;inset:0;
  background:linear-gradient(135deg,rgba(0,0,0,.05) 0%,transparent 60%);
  pointer-events:none;
}
/* The letters â€” clean italic serif */
.neg-mark-inner{
  position:relative;z-index:1;
  display:flex;flex-direction:column;align-items:center;gap:0;
}
.neg-letter{
  font-family:Georgia,'Times New Roman',serif;
  font-size:32px;font-weight:600;
  color:var(--cream);
  letter-spacing:3px;line-height:1;
  text-shadow:0 2px 8px rgba(0,0,0,.08);
}
/* Tiny gold underline accent */
.neg-dot{
  width:20px;height:1.5px;
  background:linear-gradient(90deg,transparent,var(--gold),transparent);
  margin-top:4px;border-radius:2px;opacity:.8;
}

/* Text beside the mark */
.neg-text-block{display:flex;flex-direction:column;gap:5px}
.neg-wordmark{
  font-family:Georgia,'Times New Roman',serif;
  font-size:28px;font-weight:600;font-style:italic;
  color:var(--ink);letter-spacing:.5px;line-height:1;
}
.neg-descriptor{
  font-family:-apple-system,BlinkMacSystemFont,'Helvetica Neue',Arial,sans-serif;
  font-size:10px;font-weight:500;
  color:var(--muted);letter-spacing:2.5px;text-transform:uppercase;
}
/* Sage accent line */
.neg-accent{
  width:28px;height:2px;
  background:linear-gradient(90deg,var(--sage),transparent);
  border-radius:2px;
  animation:accentGrow .8s cubic-bezier(.23,1,.32,1) .4s both;
  transform-origin:left;
}
@keyframes accentGrow{from{transform:scaleX(0)}to{transform:scaleX(1)}}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   CATEGORY TABS â€” glass pills
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
.cat-tabs{display:flex;flex-wrap:wrap;gap:8px;margin-bottom:14px}
.cat-tab{
  padding:8px 20px;
  background:transparent;
  color:var(--muted);
  border:1px solid var(--border2);
  border-radius:50px;cursor:pointer;
  font-family:-apple-system,BlinkMacSystemFont,'Helvetica Neue',Arial,sans-serif;
  font-size:11px;font-weight:500;letter-spacing:.8px;
  text-transform:uppercase;white-space:nowrap;
  transition:all .22s cubic-bezier(.23,1,.32,1);
  position:relative;overflow:hidden;
}
.cat-tab::after{
  content:'';position:absolute;inset:0;border-radius:50px;
  background:var(--sage);opacity:0;
  transition:opacity .22s;
}
.cat-tab:hover{color:var(--ink2);border-color:var(--border2);transform:translateY(-1px)}
.cat-tab:hover::after{opacity:.1}
.cat-tab.active{
  background:linear-gradient(135deg,#1A56DB,#0EA66A);color:#fff;
  border-color:#1A56DB;font-weight:700;
  box-shadow:0 4px 20px rgba(26,86,219,.3);
  transform:translateY(-2px);
}
.cat-tab.active::after{display:none}
.cat-tab.pressing{animation:tabPop .28s cubic-bezier(.23,1,.32,1)}
@keyframes tabPop{
  0%{transform:translateY(-2px) scale(1)}
  40%{transform:translateY(1px) scale(.96)}
  100%{transform:translateY(-2px) scale(1)}
}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   SOURCE PILLS â€” dark unique fills
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
.src-pills{display:flex;flex-wrap:wrap;gap:7px;margin-bottom:16px}
.src-pill{
  padding:5px 14px;
  border:1px solid var(--border2);
  background:transparent;
  color:var(--muted);
  cursor:pointer;
  font-family:-apple-system,BlinkMacSystemFont,'Helvetica Neue',Arial,sans-serif;
  font-size:10px;font-weight:500;
  letter-spacing:.8px;text-transform:uppercase;
  white-space:nowrap;border-radius:6px;
  position:relative;overflow:hidden;
  transition:color .2s,border-color .2s,transform .2s,box-shadow .2s;
}
.src-pill span{position:relative;z-index:1}
.src-pill::before{content:'';position:absolute;z-index:0;transition:all .28s cubic-bezier(.23,1,.32,1)}
.src-pill:hover{transform:translateY(-2px);box-shadow:0 4px 14px rgba(0,0,0,.06)}
.src-pill.active{font-weight:600}

.src-pill[data-src="all"]::before{inset:0;background:linear-gradient(135deg,#1A56DB,#0EA66A);transform:translateY(105%)}
.src-pill[data-src="all"]:hover::before,.src-pill[data-src="all"].active::before{transform:translateY(0)}
.src-pill[data-src="all"]:hover,.src-pill[data-src="all"].active{color:#fff;border-color:#1A56DB}

.src-pill[data-src="Forbes"]::before{inset:0;background:var(--forbes);transform:translateX(-105%)}
.src-pill[data-src="Forbes"]:hover::before,.src-pill[data-src="Forbes"].active::before{transform:translateX(0)}
.src-pill[data-src="Forbes"]:hover,.src-pill[data-src="Forbes"].active{color:#fff;border-color:var(--forbes)}

.src-pill[data-src="Bloomberg"]::before{inset:0;background:var(--bloomberg);transform:skewX(-18deg) translateX(-120%)}
.src-pill[data-src="Bloomberg"]:hover::before,.src-pill[data-src="Bloomberg"].active::before{transform:skewX(-18deg) translateX(0)}
.src-pill[data-src="Bloomberg"]:hover,.src-pill[data-src="Bloomberg"].active{color:#fff;border-color:var(--bloomberg)}

.src-pill[data-src="Reuters"]::before{inset:0;background:var(--reuters);transform:scale(0);border-radius:50%;transition:transform .3s cubic-bezier(.23,1,.32,1),border-radius .3s}
.src-pill[data-src="Reuters"]:hover::before,.src-pill[data-src="Reuters"].active::before{transform:scale(2.8);border-radius:0}
.src-pill[data-src="Reuters"]:hover,.src-pill[data-src="Reuters"].active{color:#fff;border-color:var(--reuters)}

.src-pill[data-src="WSJ"]::before{top:0;left:0;right:0;height:0;background:var(--wsj);transition:height .28s cubic-bezier(.23,1,.32,1)}
.src-pill[data-src="WSJ"]:hover::before,.src-pill[data-src="WSJ"].active::before{height:100%}
.src-pill[data-src="WSJ"]:hover,.src-pill[data-src="WSJ"].active{color:#fff;border-color:var(--wsj)}

.src-pill[data-src="FT"]::before{inset:0;background:var(--ft);transform:translateX(105%)}
.src-pill[data-src="FT"]:hover::before,.src-pill[data-src="FT"].active::before{transform:translateX(0)}
.src-pill[data-src="FT"]:hover,.src-pill[data-src="FT"].active{color:#fff;border-color:var(--ft)}

.src-pill[data-src="CNBC"]::before{bottom:0;left:0;right:0;height:0;background:var(--cnbc);transition:height .28s cubic-bezier(.23,1,.32,1)}
.src-pill[data-src="CNBC"]:hover::before,.src-pill[data-src="CNBC"].active::before{height:100%}
.src-pill[data-src="CNBC"]:hover,.src-pill[data-src="CNBC"].active{color:#fff;border-color:var(--cnbc)}

.src-pill[data-src="Economist"]::before{top:-50%;left:-50%;width:200%;height:200%;background:var(--econ);transform:rotate(-45deg) translateY(-100%)}
.src-pill[data-src="Economist"]:hover::before,.src-pill[data-src="Economist"].active::before{transform:rotate(-45deg) translateY(0)}
.src-pill[data-src="Economist"]:hover,.src-pill[data-src="Economist"].active{color:#fff;border-color:var(--econ)}

.src-pill[data-src="BusinessInsider"]::before{inset:0;background:var(--bi);clip-path:circle(0% at 50% 50%);transition:clip-path .3s cubic-bezier(.23,1,.32,1)}
.src-pill[data-src="BusinessInsider"]:hover::before,.src-pill[data-src="BusinessInsider"].active::before{clip-path:circle(100% at 50% 50%)}
.src-pill[data-src="BusinessInsider"]:hover,.src-pill[data-src="BusinessInsider"].active{color:#fff;border-color:var(--bi)}

.src-pill[data-src="MarketWatch"]::before{inset:0;background:var(--mw);transform:scaleY(0);transform-origin:bottom}
.src-pill[data-src="MarketWatch"]:hover::before,.src-pill[data-src="MarketWatch"].active::before{transform:scaleY(1)}
.src-pill[data-src="MarketWatch"]:hover,.src-pill[data-src="MarketWatch"].active{color:#fff;border-color:var(--mw)}

.src-pill[data-src="Investopedia"]::before{inset:0;background:var(--inv);transform:skewY(-6deg) scaleX(0);transform-origin:right}
.src-pill[data-src="Investopedia"]:hover::before,.src-pill[data-src="Investopedia"].active::before{transform:skewY(-6deg) scaleX(1)}
.src-pill[data-src="Investopedia"]:hover,.src-pill[data-src="Investopedia"].active{color:#fff;border-color:var(--inv)}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   SEARCH
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */


/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   STATUS + PROGRESS
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
.status-row{display:flex;gap:10px;align-items:center;flex-wrap:wrap;margin-top:10px}
.fetch-badge{
  display:none;padding:4px 14px;
  background:rgba(0,0,0,.05);
  border:1px solid rgba(0,0,0,.12);
  color:var(--sage);
  font-size:10px;font-weight:600;
  font-family:-apple-system,BlinkMacSystemFont,'Helvetica Neue',Arial,sans-serif;
  letter-spacing:.8px;text-transform:uppercase;
  border-radius:50px;align-items:center;gap:6px;
}
.dot-fetch{width:6px;height:6px;border-radius:50%;background:var(--sage);animation:dotPulse 1s infinite}
@keyframes dotPulse{0%,100%{opacity:1;transform:scale(1)}50%{opacity:.4;transform:scale(1.4)}}
#statusText{font-size:11px;color:var(--muted);font-family:-apple-system,BlinkMacSystemFont,'Helvetica Neue',Arial,sans-serif;letter-spacing:.3px}
.fetch-bar-wrap{width:100%;height:2px;background:var(--border);margin-top:12px;overflow:hidden;border-radius:2px;display:none}
.fetch-bar{height:100%;background:linear-gradient(90deg,var(--sage),var(--gold));width:0;transition:width .5s ease;border-radius:2px}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   GRID + CARDS
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
.news-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(340px,1fr));gap:20px;margin-bottom:28px}
.news-card{
  background:var(--surface);border:1px solid var(--border2);
  border-radius:16px;overflow:hidden;cursor:pointer;
  display:flex;flex-direction:column;
  transition:transform .26s cubic-bezier(.23,1,.32,1),box-shadow .26s,border-color .26s;
  box-shadow:0 2px 10px rgba(0,0,0,.05);
  animation:cardIn .42s cubic-bezier(.23,1,.32,1) both;
}
.news-card:hover{
  transform:translateY(-6px);
  box-shadow:0 20px 48px rgba(26,86,219,.12),0 4px 12px rgba(0,0,0,.06);
  border-color:#1A56DB;
  background:var(--surf2);
}
@keyframes cardIn{from{opacity:0;transform:translateY(18px)}to{opacity:1;transform:translateY(0)}}
.news-card:nth-child(1){animation-delay:.04s}.news-card:nth-child(2){animation-delay:.08s}
.news-card:nth-child(3){animation-delay:.12s}.news-card:nth-child(4){animation-delay:.16s}
.news-card:nth-child(5){animation-delay:.20s}.news-card:nth-child(6){animation-delay:.24s}
.news-card.featured{grid-column:1/-1;flex-direction:row;max-height:300px}
.news-card.featured .card-img{width:42%;height:100%}
.news-card.featured .news-title{font-size:22px;line-height:1.35}
.card-img{width:100%;height:205px;object-fit:cover;flex-shrink:0;transition:transform .4s cubic-bezier(.23,1,.32,1);filter:brightness(.92)}
.news-card:hover .card-img{transform:scale(1.04);filter:brightness(1)}
.card-body{padding:20px;display:flex;flex-direction:column;flex:1}
.cat-badge{
  display:inline-flex;align-items:center;padding:3px 10px;border-radius:50px;
  font-family:-apple-system,BlinkMacSystemFont,'Helvetica Neue',Arial,sans-serif;font-size:9px;font-weight:600;letter-spacing:1px;
  text-transform:uppercase;margin-bottom:10px;width:fit-content;border:1px solid;
}
.cb-ai    {color:#9A7FFF;border-color:rgba(154,127,255,.3);background:rgba(154,127,255,.08)}
.cb-share {color:var(--sage);border-color:rgba(0,0,0,.1);background:rgba(0,0,0,.04)}
.cb-tech  {color:#5AAAF0;border-color:rgba(90,170,240,.3);background:rgba(90,170,240,.08)}
.cb-health{color:#E07070;border-color:rgba(224,112,112,.3);background:rgba(224,112,112,.08)}
.cb-edu   {color:var(--gold);border-color:rgba(0,0,0,.1);background:rgba(0,0,0,.04)}
.cb-biz   {color:var(--muted);border-color:var(--border2);background:transparent}
.src-tag{
  padding:2px 9px;border-radius:50px;
  font-family:-apple-system,BlinkMacSystemFont,'Helvetica Neue',Arial,sans-serif;font-size:9px;font-weight:600;
  color:#fff;letter-spacing:.4px;display:inline-block;opacity:.9;
}
.news-title{
  font-family:Georgia,'Times New Roman',serif;
  font-size:17px;font-weight:700;color:var(--ink);
  margin-bottom:9px;line-height:1.5;transition:color .18s;
}
.news-card:hover .news-title{color:#fff}
.news-desc{
  font-family:-apple-system,BlinkMacSystemFont,'Helvetica Neue',Arial,sans-serif;color:var(--ink2);
  line-height:1.72;margin-bottom:14px;font-size:13px;font-weight:400;
}
.news-meta{
  display:flex;justify-content:space-between;align-items:center;
  padding-top:10px;border-top:1px solid var(--border);
  font-family:-apple-system,BlinkMacSystemFont,'Helvetica Neue',Arial,sans-serif;font-size:10px;color:var(--muted);
}
.meta-src{font-weight:700;color:var(--ink)}
.card-actions{margin-top:12px;display:flex;gap:8px;flex-wrap:wrap}

/* â”€â”€ READ BUTTON â€” glowing pill â”€â”€ */
.read-btn{
  padding:7px 18px;border-radius:50px;
  font-family:-apple-system,BlinkMacSystemFont,'Helvetica Neue',Arial,sans-serif;font-size:10px;font-weight:600;letter-spacing:.6px;
  text-transform:uppercase;color:#fff;text-decoration:none;border:none;cursor:pointer;
  transition:transform .22s,box-shadow .22s,opacity .22s;
  display:inline-block;position:relative;overflow:hidden;
}
.read-btn::before{
  content:'';position:absolute;inset:0;border-radius:50px;
  background:rgba(255,255,255,.2);opacity:0;
  transition:opacity .2s;
}
.read-btn:active{transform:translateY(0) scale(.97);transition:transform .1s}
.read-btn:hover{transform:translateY(-3px);box-shadow:0 8px 20px rgba(0,0,0,.22);opacity:1}
.read-btn:hover::before{opacity:1}

/* â”€â”€ DELETE BUTTON â€” ghost â”€â”€ */
.del-btn{
  padding:7px 14px;border-radius:50px;
  font-family:-apple-system,BlinkMacSystemFont,'Helvetica Neue',Arial,sans-serif;font-size:10px;font-weight:500;letter-spacing:.4px;
  background:transparent;color:var(--muted);
  border:1px solid var(--border2);cursor:pointer;
  transition:all .2s;
}
.del-btn:hover{background:rgba(192,64,58,.15);color:var(--red);border-color:var(--red)}

/* Skeleton */
.skel{background:var(--surface);border:1px solid var(--border);border-radius:16px;overflow:hidden;animation:skelFade 1.5s ease-in-out infinite}
.skel-img{width:100%;height:205px;background:var(--bg2)}
.skel-body{padding:20px}
.skel-line{height:11px;background:var(--border);margin-bottom:10px;border-radius:6px}
.skel-line.w80{width:80%}.skel-line.w60{width:60%}.skel-line.w40{width:40%}
@keyframes skelFade{0%,100%{opacity:1}50%{opacity:.5}}
.empty-state{
  grid-column:1/-1;text-align:center;padding:80px 20px;
  border:1px dashed var(--border2);border-radius:16px;background:var(--surface);
}
.empty-state h3{font-family:Georgia,'Times New Roman',serif;font-size:28px;font-style:italic;color:var(--ink);margin-bottom:10px}
.empty-state p{font-family:-apple-system,BlinkMacSystemFont,'Helvetica Neue',Arial,sans-serif;color:var(--muted);font-size:13px;line-height:1.7}
.empty-btn{
  display:inline-block;margin-top:18px;padding:10px 28px;
  background:linear-gradient(135deg,#1A56DB,#0EA66A);color:#fff;border:none;border-radius:50px;cursor:pointer;
  font-family:-apple-system,BlinkMacSystemFont,'Helvetica Neue',Arial,sans-serif;font-weight:600;font-size:12px;letter-spacing:.8px;text-transform:uppercase;
  box-shadow:0 4px 16px rgba(0,0,0,.1);
  transition:transform .2s,box-shadow .2s;
}
.empty-btn:hover{transform:translateY(-2px);box-shadow:0 8px 24px rgba(0,0,0,.14)}
.art-count{font-family:-apple-system,BlinkMacSystemFont,'Helvetica Neue',Arial,sans-serif;font-size:10px;color:var(--muted);text-align:center;padding:6px 0 20px;letter-spacing:1.5px;text-transform:uppercase}
.scroll-top{
  position:fixed;bottom:30px;right:26px;z-index:3000;
  width:50px;height:50px;
  background:linear-gradient(135deg,#1A56DB,#0EA66A);
  color:#fff;border:none;border-radius:50%;cursor:pointer;
  font-size:20px;font-weight:700;display:flex;align-items:center;justify-content:center;
  box-shadow:0 6px 24px rgba(26,86,219,.35);
  opacity:0;pointer-events:none;
  transition:all .35s cubic-bezier(.23,1,.32,1);
}
.scroll-top.vis{opacity:1;pointer-events:auto}
.scroll-top:hover{transform:translateY(-4px) scale(1.1);box-shadow:0 12px 32px rgba(26,86,219,.45)}
.scroll-top:active{transform:translateY(-1px) scale(.97)}
.g-overlay{position:fixed;inset:0;z-index:2000;background:var(--bg);pointer-events:none;opacity:0;transition:opacity .2s}
.g-overlay.show{opacity:.35}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   MODALS
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
.modal{display:none;position:fixed;inset:0;background:rgba(80,40,10,.5);z-index:4500;overflow-y:auto;backdrop-filter:blur(6px)}
.modal-box{
  position:relative;background:var(--surf2);
  border:1px solid var(--border2);border-radius:20px;
  max-width:680px;margin:48px auto;
  box-shadow:0 32px 80px rgba(0,0,0,.35);
  animation:mSlide .3s cubic-bezier(.23,1,.32,1);
}
@keyframes mSlide{from{opacity:0;transform:translateY(-24px) scale(.98)}to{opacity:1;transform:none}}
.modal-head{padding:24px 28px;border-bottom:1px solid var(--border);border-radius:20px 20px 0 0}
.modal-head h2{font-family:Georgia,'Times New Roman',serif;font-size:22px;font-style:italic;color:var(--ink);margin-bottom:4px}
.modal-head p{font-family:-apple-system,BlinkMacSystemFont,'Helvetica Neue',Arial,sans-serif;font-size:12px;color:var(--muted)}
.modal-body{padding:24px 28px}
.m-close{
  position:absolute;top:16px;right:18px;
  font-size:20px;cursor:pointer;color:var(--muted);
  background:var(--border);border:none;
  width:30px;height:30px;border-radius:50%;
  display:flex;align-items:center;justify-content:center;
  transition:all .2s;
}
.m-close:hover{background:var(--red);color:#fff;transform:rotate(90deg)}
.fg{margin-bottom:16px}
.fg label{display:block;margin-bottom:6px;font-family:-apple-system,BlinkMacSystemFont,'Helvetica Neue',Arial,sans-serif;font-size:10px;font-weight:600;color:var(--muted);letter-spacing:1.5px;text-transform:uppercase}
.fg input,.fg select,.fg textarea{
  width:100%;padding:10px 14px;border:1px solid var(--border2);
  background:var(--bg2);color:var(--ink);
  font-size:13px;font-family:-apple-system,BlinkMacSystemFont,'Helvetica Neue',Arial,sans-serif;border-radius:10px;
  transition:border-color .2s,box-shadow .2s;
}
.fg input:focus,.fg select:focus,.fg textarea:focus{outline:none;border-color:var(--sage);box-shadow:0 0 0 3px rgba(0,0,0,.05)}
.fg select option{background:var(--surf2)}
.fg textarea{resize:vertical;min-height:100px}
.wc-info{text-align:right;font-size:10px;color:var(--muted);font-family:-apple-system,BlinkMacSystemFont,'Helvetica Neue',Arial,sans-serif;margin-top:4px}
.wc-info.over{color:var(--red)}
.sbtn{
  width:100%;padding:13px;background:linear-gradient(135deg,#1A56DB,#0EA66A);color:#fff;border:none;border-radius:50px;
  font-family:-apple-system,BlinkMacSystemFont,'Helvetica Neue',Arial,sans-serif;font-size:13px;font-weight:600;letter-spacing:.8px;text-transform:uppercase;
  cursor:pointer;box-shadow:0 4px 16px rgba(0,0,0,.1);transition:transform .2s,box-shadow .2s;
}
.sbtn:hover{transform:translateY(-1px);box-shadow:0 8px 24px rgba(0,0,0,.14)}
.save-btn{
  padding:8px 14px;background:var(--pale);color:var(--ink2);
  border:1px solid var(--border2);border-radius:8px;cursor:pointer;
  font-family:-apple-system,BlinkMacSystemFont,'Helvetica Neue',Arial,sans-serif;font-size:10px;font-weight:600;letter-spacing:.4px;
  transition:all .18s;white-space:nowrap;
}
.save-btn:hover{background:var(--sage);color:#fff;border-color:var(--sage)}
.save-btn.saved{background:var(--green);color:#fff;border-color:var(--green)}
.img-prev{margin-top:10px;border-radius:10px;overflow:hidden;display:none}
.img-prev img{width:100%;max-height:240px;object-fit:cover}
.act-btn{
  padding:8px 20px;background:var(--sage);color:#fff;border:none;border-radius:50px;cursor:pointer;
  font-family:-apple-system,BlinkMacSystemFont,'Helvetica Neue',Arial,sans-serif;font-weight:600;font-size:11px;letter-spacing:.6px;text-transform:uppercase;
  box-shadow:0 2px 8px rgba(0,0,0,.08);transition:all .2s;
}
.act-btn:hover{transform:translateY(-1px);box-shadow:0 5px 16px rgba(0,0,0,.12)}
.pre-btn{
  padding:7px 14px;background:var(--pale);color:var(--ink2);
  border:1px solid var(--border2);border-radius:8px;cursor:pointer;
  font-family:-apple-system,BlinkMacSystemFont,'Helvetica Neue',Arial,sans-serif;font-size:10px;font-weight:600;transition:all .18s;
}
.pre-btn:hover{background:var(--sage);color:#fff;border-color:var(--sage)}
.clr-btn{
  padding:7px 14px;background:transparent;border:1px solid var(--border2);color:var(--muted);
  border-radius:8px;cursor:pointer;font-family:-apple-system,BlinkMacSystemFont,'Helvetica Neue',Arial,sans-serif;font-size:10px;font-weight:600;transition:all .18s;
}
.clr-btn:hover{color:var(--ink);border-color:var(--ink2)}

@keyframes fadeOut{from{opacity:1}to{opacity:0;transform:scale(.96)}}
@keyframes slideInR{from{opacity:0;transform:translateX(20px)}to{opacity:1;transform:none}}
@keyframes slideOutR{from{opacity:1}to{opacity:0;transform:translateX(60px)}}

@media(max-width:960px){.news-card.featured{flex-direction:column;max-height:none}.news-card.featured .card-img{width:100%;height:220px}}
/* â”€â”€ Smooth scroll everywhere â”€â”€ */
html{scroll-behavior:smooth}
*{-webkit-tap-highlight-color:rgba(26,86,219,.18);tap-highlight-color:rgba(26,86,219,.18)}
button,a,.d-item,.d-social,.src-pill,.cat-tab,.news-card{
  -webkit-tap-highlight-color:transparent;
  touch-action:manipulation;
}

@media(max-width:680px){.main-wrap{padding:14px 14px 60px}.news-grid{grid-template-columns:1fr}header{padding:20px 68px 18px 20px;border-radius:14px}.neg-mark{width:56px;height:56px}.neg-letter{font-size:26px}.neg-wordmark{font-size:22px}.modal-box{margin:12px;border-radius:14px}.cat-tab{font-size:10px;padding:7px 14px}}
</style>
</head>
<body>

<button class="ham-btn" id="hamBtn" onclick="toggleHam()" aria-label="Menu"><span></span><span></span><span></span></button>
<div class="ham-overlay" id="hamOverlay" onclick="closeHam()"></div>
<div class="g-overlay" id="gOverlay"></div>

<!-- DRAWER -->
<nav class="drawer" id="drawer">
  <div class="d-scroll">
    <div class="d-logo-area">
      <div class="d-neg-mark"><span>NEG</span></div>
      <div><div class="d-title">Nextgen Economy</div><div class="d-sub">Finance Â· Markets Â· Tech</div></div>
    </div>
    <div class="d-sec">Categories</div>
    <div class="d-item active" data-cat="all" onclick="selectCat(this)"><span>ğŸŒ</span>All News</div>
    <div class="d-item" data-cat="AI" onclick="selectCat(this)"><span>ğŸ¤–</span>AI</div>
    <div class="d-item" data-cat="Sharemarket" onclick="selectCat(this)"><span>ğŸ“ˆ</span>Sharemarket</div>
    <div class="d-item" data-cat="Technology" onclick="selectCat(this)"><span>ğŸ’»</span>Technology</div>
    <div class="d-item" data-cat="Health" onclick="selectCat(this)"><span>ğŸ¥</span>Health</div>
    <div class="d-item" data-cat="Education" onclick="selectCat(this)"><span>ğŸ“</span>Education</div>
    <div class="d-div"></div>
    <div class="d-sec">Sources</div>
    <div class="d-item" data-src="all" onclick="applySource('all');closeHam()"><span>ğŸŒ</span>All Sources</div>
    <div class="d-item" data-src="Forbes" onclick="applySource('Forbes');closeHam()"><span>ğŸ“Š</span>Forbes</div>
    <div class="d-item" data-src="Bloomberg" onclick="applySource('Bloomberg');closeHam()"><span>ğŸ’¹</span>Bloomberg</div>
    <div class="d-item" data-src="Reuters" onclick="applySource('Reuters');closeHam()"><span>ğŸ“¡</span>Reuters</div>
    <div class="d-item" data-src="WSJ" onclick="applySource('WSJ');closeHam()"><span>ğŸ“°</span>WSJ</div>
    <div class="d-item" data-src="FT" onclick="applySource('FT');closeHam()"><span>ğŸ‡¬ğŸ‡§</span>Financial Times</div>
    <div class="d-item" data-src="CNBC" onclick="applySource('CNBC');closeHam()"><span>ğŸ“º</span>CNBC</div>
    <div class="d-item" data-src="Economist" onclick="applySource('Economist');closeHam()"><span>ğŸ“–</span>The Economist</div>
    <div class="d-item" data-src="BusinessInsider" onclick="applySource('BusinessInsider');closeHam()"><span>ğŸ’¡</span>Business Insider</div>
    <div class="d-item" data-src="MarketWatch" onclick="applySource('MarketWatch');closeHam()"><span>ğŸ“ˆ</span>MarketWatch</div>
    <div class="d-item" data-src="Investopedia" onclick="applySource('Investopedia');closeHam()"><span>ğŸ¦</span>Investopedia</div>
    <div class="d-div"></div>
    <div class="d-sec">Actions</div>
    <div class="d-item" onclick="fetchAllSources();closeHam()"><span>ğŸ”„</span>Refresh All Sources</div>
    <div class="d-item" onclick="openAddModal();closeHam()"><span>â•</span>Add Article</div>
    <div class="d-item" onclick="openSettingsModal();closeHam()"><span>âš™ï¸</span>Settings</div>
    <div class="d-item" id="autoBtn" onclick="toggleAutoGen()"><span>âš¡</span>Auto Feed: ON</div>
    <div class="d-div"></div>
    <div class="d-sec">Follow Us</div>
    <a class="d-social" id="fbLink" href="https://www.facebook.com/profile.php?id=61587884954181" target="_blank" rel="noopener">
      <svg width="15" height="15" viewBox="0 0 24 24" fill="currentColor"><path d="M24 12.073C24 5.405 18.627 0 12 0S0 5.405 0 12.073c0 6.028 4.388 11.023 10.125 11.927V15.563H7.078v-3.49h3.047V9.41c0-3.025 1.791-4.697 4.533-4.697 1.312 0 2.686.235 2.686.235v2.97h-1.513c-1.491 0-1.956.93-1.956 1.887v2.268h3.328l-.532 3.49h-2.796v8.437C19.612 23.096 24 18.1 24 12.073z"/></svg>Facebook
    </a>
    <a class="d-social" id="ytLink" href="https://www.youtube.com/@NextGen-Economy" target="_blank" rel="noopener">
      <svg width="15" height="15" viewBox="0 0 24 24" fill="currentColor"><path d="M23.495 6.205a3.007 3.007 0 0 0-2.088-2.088c-1.87-.501-9.396-.501-9.396-.501s-7.507-.01-9.396.501A3.007 3.007 0 0 0 .527 6.205a31.247 31.247 0 0 0-.522 5.805 31.247 31.247 0 0 0 .522 5.783 3.007 3.007 0 0 0 2.088 2.088c1.868.502 9.396.502 9.396.502s7.506 0 9.396-.502a3.007 3.007 0 0 0 2.088-2.088 31.247 31.247 0 0 0 .5-5.783 31.247 31.247 0 0 0-.5-5.805zM9.609 15.601V8.408l6.264 3.602z"/></svg>YouTube
    </a>
    <div style="padding:8px 14px 4px"><div id="drawerStatus" style="font-size:10px;color:var(--muted);text-align:center;padding:8px;border:1px solid var(--border);border-radius:8px;font-family:-apple-system,BlinkMacSystemFont,'Helvetica Neue',Arial,sans-serif">Auto-refresh every 15 min</div></div>
  </div>
  <div class="d-footer"><strong>Nextgen Economy</strong><br>Non-commercial Â· Public Interest Â· Â© 2025<br><span style="font-size:9px">Sourced from public RSS feeds</span></div>
</nav>

<main class="main-wrap">
  <header>
    <div class="logo-row">
      <div class="neg-logo" onclick="fetchAllSources()" style="cursor:pointer" title="Refresh all sources">
        <div class="neg-mark">
          <div class="neg-mark-inner">
            <div class="neg-letter">NEG</div>
            <div class="neg-dot"></div>
          </div>
        </div>
        <div class="neg-text-block">
          <div class="neg-wordmark">Nextgen Economy</div>
          <div class="neg-descriptor">Global Finance Â· Business Â· Market News</div>
          <div class="neg-accent"></div>
        </div>
      </div>
    </div>

    <div class="cat-tabs" id="catTabs">
      <button class="cat-tab active" data-cat="all" onclick="catClick(this)">ğŸŒ All</button>
      <button class="cat-tab" data-cat="AI" onclick="catClick(this)">ğŸ¤– AI</button>
      <button class="cat-tab" data-cat="Sharemarket" onclick="catClick(this)">ğŸ“ˆ Sharemarket</button>
      <button class="cat-tab" data-cat="Technology" onclick="catClick(this)">ğŸ’» Technology</button>
      <button class="cat-tab" data-cat="Health" onclick="catClick(this)">ğŸ¥ Health</button>
      <button class="cat-tab" data-cat="Education" onclick="catClick(this)">ğŸ“ Education</button>
    </div>
    <div class="src-pills" id="srcPills">
      <button class="src-pill active" data-src="all" onclick="applySource(this.dataset.src)"><span>All Sources</span></button>
      <button class="src-pill" data-src="Forbes" onclick="applySource(this.dataset.src)"><span>Forbes</span></button>
      <button class="src-pill" data-src="Bloomberg" onclick="applySource(this.dataset.src)"><span>Bloomberg</span></button>
      <button class="src-pill" data-src="Reuters" onclick="applySource(this.dataset.src)"><span>Reuters</span></button>
      <button class="src-pill" data-src="WSJ" onclick="applySource(this.dataset.src)"><span>WSJ</span></button>
      <button class="src-pill" data-src="FT" onclick="applySource(this.dataset.src)"><span>FT</span></button>
      <button class="src-pill" data-src="CNBC" onclick="applySource(this.dataset.src)"><span>CNBC</span></button>
      <button class="src-pill" data-src="Economist" onclick="applySource(this.dataset.src)"><span>Economist</span></button>
      <button class="src-pill" data-src="BusinessInsider" onclick="applySource(this.dataset.src)"><span>Biz Insider</span></button>
      <button class="src-pill" data-src="MarketWatch" onclick="applySource(this.dataset.src)"><span>MarketWatch</span></button>
      <button class="src-pill" data-src="Investopedia" onclick="applySource(this.dataset.src)"><span>Investopedia</span></button>
    </div>

    <div class="status-row">
      <div id="fetchInd" class="fetch-badge"><span class="dot-fetch"></span>Fetchingâ€¦</div>
      <span id="statusText"></span>
    </div>
    <div class="fetch-bar-wrap" id="fetchBarWrap"><div class="fetch-bar" id="fetchBar"></div></div>
  </header>
  <div id="newsGrid" class="news-grid"></div>
  <div id="artCount" class="art-count"></div>
</main>
<button class="scroll-top" id="scrollTop" onclick="window.scrollTo({top:0,behavior:'smooth'})">â†‘</button>

<!-- ADD MODAL -->
<div id="addModal" class="modal">
  <div class="modal-box">
    <div class="modal-head">
      <button class="m-close" onclick="closeAddModal()">Ã—</button>
      <h2>Add Article</h2>
      <p>Publish a news post â€” max 60 words</p>
      <div style="display:flex;gap:10px;align-items:center;margin-top:8px">
        <span id="draftInfo" style="font-size:11px;color:var(--muted);font-family:-apple-system,BlinkMacSystemFont,'Helvetica Neue',Arial,sans-serif"></span>
        <button class="clr-btn" onclick="clearDraft()">Clear Draft</button>
      </div>
    </div>
    <div class="modal-body">
      <form id="addForm" onsubmit="submitArticle(event)">
        <div class="fg"><label>Headline *</label><div style="display:flex;gap:8px"><input id="fTitle" type="text" required placeholder="Enter headline" style="flex:1"><button type="button" class="save-btn" onclick="saveF('title')">Save</button></div></div>
        <div class="fg"><label>Category *</label><div style="display:flex;gap:8px"><select id="fCat" required style="flex:1"><option value="">Selectâ€¦</option><option>AI</option><option>Sharemarket</option><option>Technology</option><option>Health</option><option>Education</option><option>Business</option></select><button type="button" class="save-btn" onclick="saveF('cat')">Save</button></div></div>
        <div class="fg"><label>Summary * (max 60 words)</label><textarea id="fDesc" required placeholder="Brief summaryâ€¦" maxlength="600" oninput="wcUpdate()"></textarea><div style="display:flex;justify-content:space-between;margin-top:4px"><div class="wc-info" id="wcInfo">0 / 60 words</div><button type="button" class="save-btn" onclick="saveF('desc')">Save</button></div></div>
        <div class="fg"><label>Image URL</label><div style="display:flex;gap:8px"><input id="fImg" type="url" placeholder="https://â€¦" style="flex:1" oninput="imgPrevUpdate()"><button type="button" class="save-btn" onclick="saveF('img')">Save</button></div><div class="img-prev" id="imgPrev"><img id="imgPrevEl" src="" alt=""></div></div>
        <div class="fg"><label>Source *</label><div style="display:flex;gap:8px"><input id="fSrc" type="text" required placeholder="e.g. Reuters" style="flex:1"><button type="button" class="save-btn" onclick="saveF('src')">Save</button></div></div>
        <button type="submit" class="sbtn">Publish Article</button>
      </form>
    </div>
  </div>
</div>

<!-- SETTINGS MODAL -->
<div id="settingsModal" class="modal">
  <div class="modal-box">
    <div class="modal-head">
      <button class="m-close" onclick="closeSettings()">Ã—</button>
      <h2>Settings</h2>
      <p>Social links Â· Auto-generation</p>
    </div>
    <div class="modal-body">
      <div class="fg"><label>Facebook URL</label><input id="fbInput" type="url" placeholder="https://facebook.com/page"></div>
      <div class="fg"><label>YouTube URL</label><input id="ytInput" type="url" placeholder="https://youtube.com/@channel"></div>
      <button class="sbtn" onclick="saveSocial()" style="margin-bottom:20px">Save Social Links</button>
      <div class="fg"><label>Generation Rate (posts/hour)</label><input id="rateInput" type="number" min="30" max="1000" value="200"></div>
      <div class="fg"><label>Status</label>
        <div style="background:var(--bg2);padding:14px;border:1px solid var(--border);border-radius:10px;font-family:-apple-system,BlinkMacSystemFont,'Helvetica Neue',Arial,sans-serif;font-size:12px;color:var(--ink2);line-height:2.2">
          <div><strong>Total:</strong> <span id="tDisp">0</span></div>
          <div><strong>Auto-generated:</strong> <span id="aDisp">0</span></div>
          <div><strong>Interval:</strong> <span id="iDisp">18s</span></div>
        </div>
      </div>
      <div class="fg"><label>Quick Presets</label><div style="display:flex;gap:7px;flex-wrap:wrap"><button class="pre-btn" onclick="setRate(100)">100/hr</button><button class="pre-btn" onclick="setRate(200)">200/hr</button><button class="pre-btn" onclick="setRate(400)">400/hr</button><button class="pre-btn" onclick="setRate(800)">800/hr</button></div></div>
      <button class="sbtn" onclick="applySettings()">Apply Settings</button>
      <div style="margin-top:16px;padding:14px;border:1px solid var(--border);border-radius:10px">
        <p style="font-family:-apple-system,BlinkMacSystemFont,'Helvetica Neue',Arial,sans-serif;font-size:12px;font-weight:600;color:var(--ink2);margin-bottom:10px">Quick Actions</p>
        <div style="display:flex;gap:7px;flex-wrap:wrap">
          <button class="act-btn" onclick="genBatch(10);closeSettings()">+10 Articles</button>
          <button class="act-btn" onclick="genBatch(30);closeSettings()">+30 Articles</button>
          <button class="act-btn" onclick="clearAutoGen()" style="background:var(--red);box-shadow:0 2px 8px rgba(192,64,58,.3)">Clear Auto</button>
        </div>
      </div>
    </div>
  </div>
</div>
<script>
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
//  STATE
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
let db        = JSON.parse(localStorage.getItem('negDB5')) || [];
let draft     = JSON.parse(localStorage.getItem('negDraft5')) || {};
let autoOn    = localStorage.getItem('negAuto') !== 'false';
let autoInt   = null;
let pph       = parseInt(localStorage.getItem('negPPH')) || 200;
let genMs     = 3600000 / pph;
let scrollGen = localStorage.getItem('negScrollGen') !== 'false';
let lastST    = 0, scrollTmo;
let rendSet   = new Set();
let curCat    = 'all', curSrc = 'all', searchQ = '';
let fetchProgress = 0, fetchTotal = 0;
let fbUrl = 'https://www.facebook.com/profile.php?id=61587884954181';
let ytUrl = 'https://www.youtube.com/@NextGen-Economy';
document.getElementById('fbLink').href = fbUrl;
document.getElementById('ytLink').href = ytUrl;

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
//  ALL NEWS SOURCES
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
const SRC = {
  Forbes:{label:'Forbes',color:'#CC0000',feeds:[
    'https://www.forbes.com/money/feed2/',
    'https://www.forbes.com/business/feed2/',
    'https://www.forbes.com/investing/feed2/',
    'https://www.forbes.com/technology/feed2/',
    'https://www.forbes.com/healthcare/feed2/',
    'https://www.forbes.com/education/feed2/'
  ],catFeeds:{AI:['https://www.forbes.com/technology/feed2/'],Sharemarket:['https://www.forbes.com/investing/feed2/','https://www.forbes.com/money/feed2/'],Technology:['https://www.forbes.com/technology/feed2/'],Health:['https://www.forbes.com/healthcare/feed2/'],Education:['https://www.forbes.com/education/feed2/']}},
  Bloomberg:{label:'Bloomberg',color:'#1658B5',feeds:[
    'https://feeds.bloomberg.com/markets/news.rss',
    'https://feeds.bloomberg.com/economics/news.rss',
    'https://feeds.bloomberg.com/technology/news.rss',
    'https://feeds.bloomberg.com/politics/news.rss',
    'https://feeds.bloomberg.com/green/news.rss'
  ],catFeeds:{AI:['https://feeds.bloomberg.com/technology/news.rss'],Sharemarket:['https://feeds.bloomberg.com/markets/news.rss','https://feeds.bloomberg.com/economics/news.rss'],Technology:['https://feeds.bloomberg.com/technology/news.rss'],Health:['https://feeds.bloomberg.com/green/news.rss'],Education:['https://feeds.bloomberg.com/politics/news.rss']}},
  Reuters:{label:'Reuters',color:'#E07020',feeds:[
    'https://feeds.reuters.com/reuters/businessNews',
    'https://feeds.reuters.com/reuters/companyNews',
    'https://feeds.reuters.com/reuters/technologyNews',
    'https://feeds.reuters.com/news/wealth',
    'https://feeds.reuters.com/reuters/healthNews',
    'https://feeds.reuters.com/reuters/scienceNews'
  ],catFeeds:{AI:['https://feeds.reuters.com/reuters/technologyNews'],Sharemarket:['https://feeds.reuters.com/reuters/businessNews','https://feeds.reuters.com/news/wealth'],Technology:['https://feeds.reuters.com/reuters/technologyNews','https://feeds.reuters.com/reuters/scienceNews'],Health:['https://feeds.reuters.com/reuters/healthNews'],Education:['https://feeds.reuters.com/reuters/scienceNews']}},
  WSJ:{label:'WSJ',color:'#004D8C',feeds:[
    'https://feeds.a.dj.com/rss/RSSMarketsMain.xml',
    'https://feeds.a.dj.com/rss/WSJcomUSBusiness.xml',
    'https://feeds.a.dj.com/rss/RSSWSJD.xml',
    'https://feeds.a.dj.com/rss/RSSWorldNews.xml'
  ],catFeeds:{AI:['https://feeds.a.dj.com/rss/RSSWSJD.xml'],Sharemarket:['https://feeds.a.dj.com/rss/RSSMarketsMain.xml','https://feeds.a.dj.com/rss/WSJcomUSBusiness.xml'],Technology:['https://feeds.a.dj.com/rss/RSSWSJD.xml'],Health:['https://feeds.a.dj.com/rss/RSSWorldNews.xml'],Education:['https://feeds.a.dj.com/rss/RSSWorldNews.xml']}},
  FT:{label:'Financial Times',color:'#D6410A',feeds:[
    'https://www.ft.com/markets?format=rss',
    'https://www.ft.com/companies?format=rss',
    'https://www.ft.com/world/economy?format=rss',
    'https://www.ft.com/technology?format=rss',
    'https://www.ft.com/health?format=rss'
  ],catFeeds:{AI:['https://www.ft.com/technology?format=rss'],Sharemarket:['https://www.ft.com/markets?format=rss','https://www.ft.com/world/economy?format=rss'],Technology:['https://www.ft.com/technology?format=rss'],Health:['https://www.ft.com/health?format=rss'],Education:['https://www.ft.com/companies?format=rss']}},
  CNBC:{label:'CNBC',color:'#0077C0',feeds:[
    'https://www.cnbc.com/id/100003114/device/rss/rss.html',
    'https://www.cnbc.com/id/10001147/device/rss/rss.html',
    'https://www.cnbc.com/id/15839135/device/rss/rss.html',
    'https://www.cnbc.com/id/20910258/device/rss/rss.html',
    'https://www.cnbc.com/id/10000664/device/rss/rss.html'
  ],catFeeds:{AI:['https://www.cnbc.com/id/15839135/device/rss/rss.html'],Sharemarket:['https://www.cnbc.com/id/100003114/device/rss/rss.html','https://www.cnbc.com/id/20910258/device/rss/rss.html'],Technology:['https://www.cnbc.com/id/15839135/device/rss/rss.html'],Health:['https://www.cnbc.com/id/10000664/device/rss/rss.html'],Education:['https://www.cnbc.com/id/10001147/device/rss/rss.html']}},
  Economist:{label:'The Economist',color:'#B5000C',feeds:[
    'https://www.economist.com/finance-and-economics/rss.xml',
    'https://www.economist.com/business/rss.xml',
    'https://www.economist.com/science-and-technology/rss.xml',
    'https://www.economist.com/international/rss.xml'
  ],catFeeds:{AI:['https://www.economist.com/science-and-technology/rss.xml'],Sharemarket:['https://www.economist.com/finance-and-economics/rss.xml'],Technology:['https://www.economist.com/science-and-technology/rss.xml'],Health:['https://www.economist.com/science-and-technology/rss.xml'],Education:['https://www.economist.com/international/rss.xml']}},
  BusinessInsider:{label:'Business Insider',color:'#12124A',feeds:[
    'https://feeds.businessinsider.com/custom/all',
    'https://markets.businessinsider.com/rss/news',
    'https://feeds.businessinsider.com/custom/tech'
  ],catFeeds:{AI:['https://feeds.businessinsider.com/custom/tech'],Sharemarket:['https://markets.businessinsider.com/rss/news'],Technology:['https://feeds.businessinsider.com/custom/tech'],Health:['https://feeds.businessinsider.com/custom/all'],Education:['https://feeds.businessinsider.com/custom/all']}},
  MarketWatch:{label:'MarketWatch',color:'#037A3C',feeds:[
    'https://feeds.content.dowjones.io/public/rss/mw_realtimeheadlines',
    'https://feeds.content.dowjones.io/public/rss/mw_marketpulse',
    'https://feeds.content.dowjones.io/public/rss/mw_bulletins'
  ],catFeeds:{AI:['https://feeds.content.dowjones.io/public/rss/mw_realtimeheadlines'],Sharemarket:['https://feeds.content.dowjones.io/public/rss/mw_marketpulse','https://feeds.content.dowjones.io/public/rss/mw_bulletins'],Technology:['https://feeds.content.dowjones.io/public/rss/mw_realtimeheadlines'],Health:['https://feeds.content.dowjones.io/public/rss/mw_bulletins'],Education:['https://feeds.content.dowjones.io/public/rss/mw_bulletins']}},
  Investopedia:{label:'Investopedia',color:'#0050A8',feeds:[
    'https://www.investopedia.com/feedbuilder/feed/getfeed/?feedName=rss_headline',
    'https://www.investopedia.com/feedbuilder/feed/getfeed/?feedName=rss_news',
    'https://www.investopedia.com/feedbuilder/feed/getfeed/?feedName=rss_investing'
  ],catFeeds:{AI:['https://www.investopedia.com/feedbuilder/feed/getfeed/?feedName=rss_headline'],Sharemarket:['https://www.investopedia.com/feedbuilder/feed/getfeed/?feedName=rss_investing','https://www.investopedia.com/feedbuilder/feed/getfeed/?feedName=rss_news'],Technology:['https://www.investopedia.com/feedbuilder/feed/getfeed/?feedName=rss_headline'],Health:['https://www.investopedia.com/feedbuilder/feed/getfeed/?feedName=rss_news'],Education:['https://www.investopedia.com/feedbuilder/feed/getfeed/?feedName=rss_news']}}
};

const PROXIES = [
  u=>`https://api.allorigins.win/get?url=${encodeURIComponent(u)}`,
  u=>`https://corsproxy.io/?${encodeURIComponent(u)}`,
  u=>`https://api.codetabs.com/v1/proxy?quest=${encodeURIComponent(u)}`
];
const seen = new Set(JSON.parse(localStorage.getItem('negSeen5')||'[]'));

// Category classifier
const CAT_KW = {
  AI:['artificial intelligence','machine learning',' ai ','gpt','llm','neural network','deep learning','chatgpt','openai','generative ai','language model','large language','chatbot','nlp','computer vision','automation','agi'],
  Sharemarket:['stock','share market','sharemarket','nasdaq','s&p 500','dow jones','equity','ipo','dividend','bull market','bear market','etf','portfolio','wall street','index fund','crypto','bitcoin','ethereum','hedge fund','securities','rally','earnings report','market cap'],
  Technology:['technology','tech company','software','hardware','cloud computing','cybersecurity','cyber attack','5g network','startup','silicon valley','semiconductor','chip','quantum','blockchain','metaverse','virtual reality','augmented reality','developer','data breach','digital'],
  Health:['health','medical','hospital','pharmaceutical','drug','vaccine','fda','clinical trial','patient','disease','cancer','mental health','wellness','nutrition','fitness','surgery','therapy','pandemic','virus','biotech','genomics','public health'],
  Education:['education','university','school','student','learning','academic','scholarship','curriculum','teacher','research study','degree','college','graduate','stem','literacy','e-learning','online course','tuition']
};
function classify(title,desc){
  const t=((title||'')+' '+(desc||'')).toLowerCase();
  for(const[c,kws] of Object.entries(CAT_KW))
    for(const k of kws) if(t.includes(k)) return c;
  return 'Business';
}

// Default data
if(db.length===0){
  const n=Date.now();
  db=[
    {id:n+1,title:'OpenAI Releases GPT-5 with Unprecedented Reasoning Capabilities',description:'The latest language model demonstrates breakthrough performance across scientific, legal, and creative tasks, setting a new standard for AI systems in real-world applications.',category:'AI',image:'https://images.unsplash.com/photo-1677442136019-21780ecad995?w=800',source:'Tech Insider',date:new Date(n).toISOString()},
    {id:n+2,title:'Global Markets Surge on Strong Jobs Data and Fed Rate Signals',description:'Equity markets worldwide recorded gains after better-than-expected employment figures eased recession fears. S&P 500 climbed 1.8% as investor confidence returned after weeks of volatility.',category:'Sharemarket',image:'https://images.unsplash.com/photo-1611974789855-9c2a0a7236a3?w=800',source:'MarketWatch',date:new Date(n-3600000).toISOString()},
    {id:n+3,title:'Apple Silicon M4 Redefines Performance Benchmarks Globally',description:'Apple\'s M4 chip delivers 40% faster CPU performance than its predecessor at lower power. The breakthrough reshapes laptop and tablet computing across all price segments.',category:'Technology',image:'https://images.unsplash.com/photo-1488590528505-98d2b5aba04b?w=800',source:'Reuters',date:new Date(n-7200000).toISOString()},
    {id:n+4,title:'WHO Declares Drug-Resistant Bacterial Strain a Global Emergency',description:'The World Health Organisation has escalated its response to a drug-resistant strain spreading across three continents, urging immediate coordinated action from member nations.',category:'Health',image:'https://images.unsplash.com/photo-1576091160399-112ba8d25d1d?w=800',source:'Reuters',date:new Date(n-10800000).toISOString()},
    {id:n+5,title:'MIT Study: AI Tutors Outperform Traditional Classrooms in STEM',description:'A landmark two-year study found students using personalised AI tutoring achieved 38% better outcomes in mathematics and science compared to conventional classroom instruction.',category:'Education',image:'https://images.unsplash.com/photo-1503676260728-1c00da094a0b?w=800',source:'Bloomberg',date:new Date(n-14400000).toISOString()},
    {id:n+6,title:'Federal Reserve Signals Rate Cut as Inflation Approaches Target',description:'Fed Chair indicated the central bank may ease monetary policy as inflation approaches the 2% target. Bond markets reacted positively with yields dropping across all maturities.',category:'Sharemarket',image:'https://images.unsplash.com/photo-1560472354-b33ff0c44a43?w=800',source:'CNBC',date:new Date(n-18000000).toISOString()}
  ];
  saveDB();
}

// â•â•â•â• RSS FETCH â•â•â•â•
async function fetchProxy(url){
  for(const mk of PROXIES){
    try{
      const r = await fetch(mk(url),{signal:AbortSignal.timeout(8000)});
      if(!r.ok) continue;
      const d = await r.json();
      const t = d.contents!==undefined ? d.contents : (typeof d==='string' ? d : JSON.stringify(d));
      if(t && t.length>100) return t;
    }catch(e){/*next*/}
  }
  return null;
}

async function fetchFeed(url, srcName){
  try{
    const xml = await fetchProxy(url);
    if(!xml) return 0;
    const doc = new DOMParser().parseFromString(xml,'text/xml');
    let added = 0;
    Array.from(doc.querySelectorAll('item')).slice(0,30).forEach(item=>{
      const title = (item.querySelector('title')?.textContent||'').trim();
      const link  = (item.querySelector('link')?.textContent||item.querySelector('guid')?.textContent||'').trim();
      const rawD  = item.querySelector('description')?.textContent||'';
      const desc  = rawD.replace(/<[^>]+>/g,' ').replace(/\s+/g,' ').trim().slice(0,300);
      const pub   = item.querySelector('pubDate')?.textContent||new Date().toISOString();
      let img='';
      for(const t of['content','enclosure','thumbnail']){
        const el=item.querySelector(t); if(el){img=el.getAttribute('url')||el.getAttribute('src')||'';if(img)break;}
      }
      if(!img){const m=rawD.match(/<img[^>]+src=["']([^"']+)["']/i);if(m)img=m[1];}
      if(!img) img=`https://images.unsplash.com/photo-1504711434969-e33886168f5c?w=800&sig=${Math.random()*999|0}`;
      const uid='n_'+btoa(encodeURIComponent((link||title).slice(0,80))).replace(/[^a-zA-Z0-9]/g,'').slice(0,26);
      if(!title||seen.has(uid)) return;
      seen.add(uid);
      db.push({id:Date.now()+Math.random(),uid,title,description:desc||`Read more at ${srcName}.`,category:classify(title,desc),image:img,source:SRC[srcName].label,sourceName:srcName,sourceUrl:link,date:new Date(pub).toISOString(),rss:true});
      added++;
    });
    return added;
  }catch(e){console.warn(e.message);return 0;}
}

async function fetchSrc(name){
  let t=0;
  for(const f of(SRC[name]?.feeds||[])) t+=await fetchFeed(f,name);
  return t;
}

// â•â•â•â• AGGRESSIVE FETCH ALL â€” all sources, all feeds in parallel, with progress bar â•â•â•â•
async function fetchAllSources(){
  showFetch(true);
  setStatus('Loading from all 10 sourcesâ€¦');
  showProgressBar(true);

  const srcKeys = Object.keys(SRC);
  fetchTotal = srcKeys.length;
  fetchProgress = 0;
  updateProgressBar(0);

  // Fire all sources in parallel for maximum speed
  const results = await Promise.allSettled(
    srcKeys.map(k => fetchSrc(k).then(n=>{
      fetchProgress++;
      updateProgressBar(fetchProgress / fetchTotal);
      setStatus(`Fetchingâ€¦ ${fetchProgress}/${fetchTotal} sources`);
      return n;
    }))
  );

  const grand = results.reduce((s,r)=>s+(r.status==='fulfilled'?r.value:0),0);
  sortDB(); saveSeen(); saveDB();
  rendSet.clear();
  render();
  updateProgressBar(1);
  setTimeout(()=>showProgressBar(false),800);

  const ts = new Date().toLocaleTimeString();
  setStatus(`âœ“ ${grand} articles from ${fetchTotal} sources â€” ${ts}`);
  if(grand>0) toast(`${grand} articles loaded from all sources`,'ok');
  showFetch(false);
}

// On category click â€” fetch category-specific feeds from ALL sources in parallel
async function fetchForCategory(cat){
  showFetch(true);
  showProgressBar(true);
  setStatus(`Loading ${cat} news from all sourcesâ€¦`);

  const srcKeys = Object.keys(SRC);
  let progress=0; updateProgressBar(0);

  const results = await Promise.allSettled(
    srcKeys.map(k=>{
      const feeds = SRC[k].catFeeds?.[cat] || SRC[k].feeds.slice(0,1);
      return Promise.all(feeds.map(f=>fetchFeed(f,k))).then(ns=>{
        progress++;
        updateProgressBar(progress/srcKeys.length);
        return ns.reduce((a,b)=>a+b,0);
      });
    })
  );

  const total = results.reduce((s,r)=>s+(r.status==='fulfilled'?r.value:0),0);
  sortDB(); saveSeen(); saveDB();
  rendSet.clear();
  setTimeout(()=>showProgressBar(false),800);
  setStatus(total>0?`âœ“ ${total} ${cat} articles loaded`:`Showing cached ${cat} articles`);
  showFetch(false);
  return total;
}

// â•â•â•â• SORT â•â•â•â•
function sortDB(){ db.sort((a,b)=>new Date(b.date)-new Date(a.date)); }

// â•â•â•â• CATEGORY SELECT â•â•â•â•
function catClick(el){
  el.classList.add('pressing');
  el.addEventListener('animationend',()=>el.classList.remove('pressing'),{once:true});
  applyCat(el.dataset.cat);
}
function selectCat(el){ applyCat(el.dataset.cat); closeHam(); }

async function applyCat(cat){
  curCat=cat;
  document.querySelectorAll('.cat-tab').forEach(t=>t.classList.toggle('active',t.dataset.cat===cat));
  document.querySelectorAll('.d-item[data-cat]').forEach(i=>i.classList.toggle('active',i.dataset.cat===cat));
  const ov=document.getElementById('gOverlay');
  ov.classList.add('show'); setTimeout(()=>ov.classList.remove('show'),280);

  if(cat==='all'){ render(); setStatus(''); return; }

  const cached=db.filter(i=>i.category===cat&&i.rss);
  if(cached.length<5){
    showSkeletons(6);
    const total=await fetchForCategory(cat);
    render();
    if(getFiltered().length===0) showFallback(cat);
  } else {
    render(); setStatus(`Showing ${cat}`);
  }
}

// â•â•â•â• SOURCE SELECT â•â•â•â•
function applySource(src){
  curSrc=src;
  document.querySelectorAll('.d-item[data-src]').forEach(i=>i.classList.toggle('active',i.dataset.src===src));
  document.querySelectorAll('.src-pill').forEach(p=>p.classList.toggle('active',p.dataset.src===src));
  const lbl=src==='all'?'All Sources':(SRC[src]?.label||src);
  const cached=src==='all'?db:db.filter(i=>i.sourceName===src);
  if(cached.length===0&&src!=='all'){
    showFetch(true); setStatus(`Loading ${lbl}â€¦`); showSkeletons(6);
    fetchSrc(src).then(n=>{sortDB();saveSeen();saveDB();rendSet.clear();render();showFetch(false);setStatus(n>0?`âœ“ ${n} articles from ${lbl}`:`${lbl} unavailable`);});
  } else { render(); setStatus(src==='all'?'':lbl); }
}

// â•â•â•â• SEARCH â•â•â•â•
function handleSearch(v){}

// â•â•â•â• GET FILTERED â€” newest first â•â•â•â•
function getFiltered(){
  let list=[...db].sort((a,b)=>new Date(b.date)-new Date(a.date));
  if(curCat!=='all') list=list.filter(i=>i.category===curCat);
  if(curSrc!=='all') list=list.filter(i=>i.sourceName===curSrc||(i.source||'')===(SRC[curSrc]?.label||'')||(i.source||'').includes(curSrc));
  return list;
}

// â•â•â•â• RENDER â•â•â•â•
function render(){
  const grid=document.getElementById('newsGrid');
  rendSet.clear();
  const list=getFiltered();
  if(list.length===0){
    if(curCat!=='all'){showFallback(curCat);return;}
    grid.innerHTML=`<div class="empty-state"><h3>Loadingâ€¦</h3><p>Fetching the latest news from all sources.</p></div>`;
    updateCount(0);return;
  }
  grid.innerHTML=list.map((item,i)=>createCard(item,i===0&&list.length>3)).join('');
  list.forEach(i=>rendSet.add(i.id));
  updateCount(list.length);
}

function showFallback(cat){
  const grid=document.getElementById('newsGrid');
  const fallback=[...db].sort((a,b)=>new Date(b.date)-new Date(a.date)).slice(0,12);
  if(fallback.length===0){
    grid.innerHTML=`<div class="empty-state"><h3>No articles yet</h3><p>Click Refresh to load news from all sources.</p><button class="empty-btn" onclick="fetchAllSources()">Refresh Now</button></div>`;
    return;
  }
  grid.innerHTML=`
    <div style="grid-column:1/-1;padding:0 0 6px">
      <div style="background:var(--bg2);border:1.5px solid var(--rule);padding:12px 18px;display:flex;align-items:center;gap:10px">
        <span style="font-size:16px">ğŸ’¡</span>
        <div style="font-family:-apple-system,BlinkMacSystemFont,'Helvetica Neue',Arial,sans-serif;color:var(--ink2);font-size:12px">No live <strong>${cat}</strong> articles found â€” showing the most recent past news. Feeds refresh every 15 minutes.</div>
      </div>
    </div>
    ${fallback.map((item,i)=>createCard(item,i===0&&fallback.length>3)).join('')}`;
  fallback.forEach(i=>rendSet.add(i.id));
  updateCount(fallback.length);
}

function showSkeletons(n){
  document.getElementById('newsGrid').innerHTML=
    Array(n).fill(0).map(()=>`<div class="skel"><div class="skel-img"></div><div class="skel-body"><div class="skel-line w80"></div><div class="skel-line w60"></div><div class="skel-line w40"></div></div></div>`).join('');
}

// â•â•â•â• CREATE CARD â•â•â•â•
function getCatBadge(cat){
  const m={AI:'cb-ai',Sharemarket:'cb-share',Technology:'cb-tech',Health:'cb-health',Education:'cb-edu'};
  return m[cat]||'cb-biz';
}
function createCard(item,featured=false){
  const sc=item.sourceName&&SRC[item.sourceName]?SRC[item.sourceName].color:'#555';
  const cb=getCatBadge(item.category);
  const click=item.sourceUrl?`onclick="window.open('${item.sourceUrl.replace(/'/g,"\\'")}','_blank')"`:'';
  const badge=item.rss?`<span class="src-tag" style="background:${sc}">${item.source||''}</span>`:item.auto?`<span class="src-tag" style="background:var(--muted)">Auto</span>`:`<span class="src-tag" style="background:var(--ink)">Custom</span>`;
  return `
  <div class="news-card${featured?' featured':''}" data-id="${item.id}" ${click} role="${item.sourceUrl?'link':''}" tabindex="${item.sourceUrl?'0':''}">
    <img src="${item.image}" alt="" class="card-img" onerror="this.src='https://images.unsplash.com/photo-1504711434969-e33886168f5c?w=800'">
    <div class="card-body">
      <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:10px;gap:8px">
        <span class="cat-badge ${cb}">${item.category||'Business'}</span>
        ${badge}
      </div>
      <h3 class="news-title">${item.title}</h3>
      <p class="news-desc">${item.description}</p>
      <div class="news-meta">
        <span class="meta-src">${item.source}</span>
        <span>${fmtDate(item.date)}</span>
      </div>
      <div class="card-actions">
        ${item.sourceUrl?`<a href="${item.sourceUrl}" target="_blank" rel="noopener" onclick="event.stopPropagation()" class="read-btn" style="background:${sc}">Read Full Story â†—</a>`:''}
        <button class="del-btn" onclick="event.stopPropagation();deleteItem(${item.id})">Remove</button>
      </div>
    </div>
  </div>`;
}

// â•â•â•â• UTILS â•â•â•â•
function fmtDate(ds){
  const d=new Date(ds),n=new Date(),diff=n-d;
  const m=diff/60000|0,h=diff/3600000|0,dy=diff/86400000|0;
  if(m<1) return 'Just now';if(m<60) return `${m}m ago`;if(h<24) return `${h}h ago`;if(dy<7) return `${dy}d ago`;
  return d.toLocaleDateString();
}
function saveDB(){localStorage.setItem('negDB5',JSON.stringify(db))}
function saveSeen(){localStorage.setItem('negSeen5',JSON.stringify([...seen]))}
function updateCount(n){const el=document.getElementById('artCount');if(el)el.textContent=n>0?`${n} article${n!==1?'s':''}`:'';}
function setStatus(t){const el=document.getElementById('statusText');if(el)el.textContent=t;}
function showFetch(on){const el=document.getElementById('fetchInd');if(el){el.style.display=on?'flex':'none';if(on)el.style.alignItems='center';}}
function showProgressBar(on){const w=document.getElementById('fetchBarWrap');if(w)w.style.display=on?'block':'none';}
function updateProgressBar(p){const b=document.getElementById('fetchBar');if(b)b.style.width=(p*100)+'%';}
function deleteItem(id){
  if(!confirm('Remove this article?')) return;
  db=db.filter(i=>i.id!==id);saveDB();
  const c=document.querySelector(`[data-id="${id}"]`);
  if(c){c.style.animation='fadeOut .22s forwards';setTimeout(()=>{c.remove();updateCount(document.querySelectorAll('.news-card').length);},230);}
}

// â•â•â•â• DRAFT â•â•â•â•
function wcUpdate(){
  const w=document.getElementById('fDesc').value.trim().split(/\s+/).filter(Boolean).length;
  const el=document.getElementById('wcInfo');
  el.textContent=`${w} / 60 words`;el.classList.toggle('over',w>60);
}
function imgPrevUpdate(){
  const v=document.getElementById('fImg').value.trim();
  const p=document.getElementById('imgPrev');const i=document.getElementById('imgPrevEl');
  if(v){i.src=v;p.style.display='block';i.onerror=()=>p.style.display='none';}else p.style.display='none';
}
function updDraftInfo(){const n=Object.keys(draft).length;document.getElementById('draftInfo').textContent=n>0?`${n} field${n>1?'s':''} saved`:'';}
function saveF(f){
  const ids={title:'fTitle',cat:'fCat',desc:'fDesc',img:'fImg',src:'fSrc'};
  const el=document.getElementById(ids[f]);if(!el) return;
  const v=el.value.trim();if(!v&&f!=='img'){toast('Field is empty','err');return;}
  if(f==='desc'&&v.split(/\s+/).filter(Boolean).length>60){toast('Max 60 words','err');return;}
  draft[f]=v;localStorage.setItem('negDraft5',JSON.stringify(draft));updDraftInfo();
  toast(`${f} saved`,'ok');
  const btn=event.target;btn.classList.add('saved');btn.textContent='âœ“';
  setTimeout(()=>{btn.classList.remove('saved');btn.textContent='Save';},2000);
}
function clearDraft(){
  if(!confirm('Clear draft?')) return;
  draft={};localStorage.removeItem('negDraft5');
  document.getElementById('addForm').reset();
  document.getElementById('imgPrev').style.display='none';
  updDraftInfo();toast('Draft cleared','ok');
}
function loadDraft(){
  if(draft.title) document.getElementById('fTitle').value=draft.title;
  if(draft.cat) document.getElementById('fCat').value=draft.cat;
  if(draft.desc) document.getElementById('fDesc').value=draft.desc;
  if(draft.img){document.getElementById('fImg').value=draft.img;imgPrevUpdate();}
  if(draft.src) document.getElementById('fSrc').value=draft.src;
}
function submitArticle(e){
  e.preventDefault();
  const t=document.getElementById('fTitle').value.trim();
  const cat=document.getElementById('fCat').value;
  const d=document.getElementById('fDesc').value.trim();
  const img=document.getElementById('fImg').value.trim();
  const src=document.getElementById('fSrc').value.trim();
  if(d.split(/\s+/).filter(Boolean).length>60){toast('Max 60 words','err');return;}
  db.unshift({id:Date.now(),title:t,category:cat,description:d,source:src,date:new Date().toISOString(),image:img||'https://images.unsplash.com/photo-1504711434969-e33886168f5c?w=800'});
  saveDB();draft={};localStorage.removeItem('negDraft5');render();closeAddModal();toast('Article published','ok');
}

// â•â•â•â• AUTO GENERATION â•â•â•â•
const genTpls={
  AI:[{t:'New AI Model Achieves Record Score on Reasoning Benchmark',d:'Researchers announced a significant leap in AI capability with unprecedented performance across logical reasoning, mathematics, and language comprehension evaluations in independent testing.'},{t:'AI Startup Raises $120M to Deploy Large Language Models at Enterprise Scale',d:'A promising AI company secured major funding to bring its platform to large organisations, with backers citing transformative potential across healthcare, finance, and education sectors.'},{t:'Open-Source AI Model Challenges Industry Leaders in New Benchmarks',d:'A new open-source model challenges proprietary systems with comparable performance at a fraction of the cost, democratising access to advanced AI for developers globally.'}],
  Sharemarket:[{t:'Global Markets Rally as Fed Signals Potential Rate Cut',d:'Equity markets surged as the Federal Reserve signalled possible easing of monetary policy. S&P 500 climbed sharply as investor confidence returned on improving inflation outlook.'},{t:'Bitcoin Surges Past $90,000 on Institutional Demand',d:'The world\'s largest cryptocurrency extended gains as major financial institutions increased digital asset holdings. Analysts attribute the rally to improved regulatory clarity.'},{t:'Technology Stocks Hit Multi-Year Highs on Strong Earnings',d:'Tech equities reached record levels as major companies reported better-than-expected quarterly results. Portfolio managers are increasing sector exposure on robust growth forecasts.'}],
  Technology:[{t:'Google Announces Next-Generation AI-Powered Search Platform',d:'Alphabet unveiled a redesigned search experience integrating advanced AI capabilities with improved real-time information retrieval, promising more accurate and contextual answers.'},{t:'Major Cybersecurity Breach Exposes 50 Million Records Globally',d:'Security researchers disclosed a significant breach affecting users across multiple continents. Affected organisations urged credential resets and multi-factor authentication adoption.'},{t:'5G Networks Now Reach 60% of Global Population',d:'Mobile operators announced a landmark expansion of next-generation connectivity, enabling faster speeds and lower latency for billions across urban and rural areas.'}],
  Health:[{t:'Breakthrough Drug Reduces Cancer Risk by 47% in Clinical Trial',d:'A Phase 3 study found the new treatment significantly reduced cancer incidence versus standard care, with a favourable safety profile across diverse patient populations.'},{t:'WHO Issues Alert Over Antibiotic-Resistant Strain Spreading Globally',d:'The World Health Organization called for immediate global action as drug-resistant cases rise across three continents, mobilising resources and urging preventive measures.'},{t:'New Mental Health App Shows 38% Improvement in Anxiety Outcomes',d:'A controlled trial found a digital mental health tool significantly reduced anxiety scores over 12 weeks, offering a scalable complement to traditional therapy approaches.'}],
  Education:[{t:'University Rankings 2025: Asian Institutions Lead Global Rise',d:'The latest global rankings reveal a dramatic rise of Asian universities, with several entering the top 20 for the first time and reshaping the higher education landscape.'},{t:'Government Invests $5B in AI-Powered Education Across Public Schools',d:'A national initiative will deploy AI tutoring in public schools, aiming to personalise learning for millions of students and address widening achievement gaps.'},{t:'Online Learning Enrolments Hit Record 500 Million Worldwide',d:'Global demand for digital education continues to surge, with platforms reporting record registrations in technology, business, and healthcare as workers seek to upskill.'}]
};
const imgs=['https://images.unsplash.com/photo-1677442136019-21780ecad995?w=800','https://images.unsplash.com/photo-1611974789855-9c2a0a7236a3?w=800','https://images.unsplash.com/photo-1488590528505-98d2b5aba04b?w=800','https://images.unsplash.com/photo-1576091160399-112ba8d25d1d?w=800','https://images.unsplash.com/photo-1503676260728-1c00da094a0b?w=800','https://images.unsplash.com/photo-1560472354-b33ff0c44a43?w=800'];
const srcNames=['Reuters','Bloomberg','CNBC','MarketWatch','Forbes'];
function genPost(){
  const cats=Object.keys(genTpls);const cat=cats[Math.random()*cats.length|0];
  const tp=genTpls[cat][Math.random()*genTpls[cat].length|0];
  db.unshift({id:Date.now()+Math.random(),title:tp.t,description:tp.d,category:cat,image:imgs[Math.random()*imgs.length|0],source:srcNames[Math.random()*srcNames.length|0],date:new Date().toISOString(),auto:true});
  saveDB();
  const list=getFiltered();const newI=list.filter(i=>!rendSet.has(i.id));
  if(newI.length>0){
    const grid=document.getElementById('newsGrid');
    if(!grid.querySelector('.empty-state')&&!grid.querySelector('.skel')){
      grid.insertAdjacentHTML('afterbegin',newI.slice(0,3).map(i=>createCard(i)).join(''));
      newI.slice(0,3).forEach(i=>rendSet.add(i.id));
      updateCount(grid.querySelectorAll('.news-card').length);
    }
  }
}
function startAutoGen(){if(autoInt) return;genBatch(8);autoInt=setInterval(()=>genBurst(3),genMs*5);}
function stopAutoGen(){if(autoInt){clearInterval(autoInt);autoInt=null;}}
function genBatch(n){for(let i=0;i<n;i++) setTimeout(()=>genPost(),i*160);}
function genBurst(n){for(let i=0;i<n;i++) setTimeout(()=>genPost(),i*90);}
function toggleAutoGen(){
  autoOn=!autoOn;localStorage.setItem('negAuto',autoOn);
  const b=document.getElementById('autoBtn');
  if(autoOn){b.innerHTML='<span>âš¡</span>Auto Feed: ON';startAutoGen();toast('Auto feed ON','ok');}
  else{b.innerHTML='<span>â¸ï¸</span>Auto Feed: OFF';stopAutoGen();toast('Auto feed OFF','ok');}
}

// â•â•â•â• SCROLL GEN â•â•â•â•
window.addEventListener('scroll',()=>{
  if(!autoOn||!scrollGen) return;
  clearTimeout(scrollTmo);
  scrollTmo=setTimeout(()=>{
    const st=window.pageYOffset,sh=document.documentElement.scrollHeight,ch=document.documentElement.clientHeight;
    if(st>lastST&&st+ch>sh*.65) genBurst(5);lastST=st;
  },160);
},{passive:true});

// â•â•â•â• SCROLL TOP â•â•â•â•
window.addEventListener('scroll',()=>document.getElementById('scrollTop').classList.toggle('vis',window.scrollY>400),{passive:true});

// â•â•â•â• HAM â•â•â•â•
function toggleHam(){['hamBtn','drawer','hamOverlay'].forEach(id=>document.getElementById(id).classList.toggle('open'));}
function closeHam(){['hamBtn','drawer','hamOverlay'].forEach(id=>document.getElementById(id).classList.remove('open'));}
document.addEventListener('keydown',e=>{if(e.key==='Escape'){closeHam();closeAddModal();closeSettings();}});

// â•â•â•â• MODALS â•â•â•â•
function openAddModal(){document.getElementById('addModal').style.display='block';loadDraft();updDraftInfo();}
function closeAddModal(){document.getElementById('addModal').style.display='none';document.getElementById('addForm').reset();document.getElementById('imgPrev').style.display='none';}
function openSettingsModal(){
  document.getElementById('settingsModal').style.display='block';
  document.getElementById('rateInput').value=pph;
  document.getElementById('fbInput').value=fbUrl;
  document.getElementById('ytInput').value=ytUrl;
  updSettingsDisplay();
}
function closeSettings(){document.getElementById('settingsModal').style.display='none';}
function updSettingsDisplay(){const n=db.length,a=db.filter(i=>i.auto).length;document.getElementById('tDisp').textContent=n;document.getElementById('aDisp').textContent=a;document.getElementById('iDisp').textContent=`${Math.round(genMs/1000)}s`;}
function saveSocial(){
  const f=document.getElementById('fbInput').value.trim();const y=document.getElementById('ytInput').value.trim();
  if(f){fbUrl=f;localStorage.setItem('negFB',f);document.getElementById('fbLink').href=f;}
  if(y){ytUrl=y;localStorage.setItem('negYT',y);document.getElementById('ytLink').href=y;}
  toast('Social links saved','ok');closeSettings();
}
function setRate(r){document.getElementById('rateInput').value=r;document.getElementById('iDisp').textContent=`${Math.round(3600/r)}s`;}
function applySettings(){
  const r=parseInt(document.getElementById('rateInput').value);
  if(r<30||r>1000){toast('Enter 30â€“1000','err');return;}
  pph=r;genMs=3600000/r;localStorage.setItem('negPPH',pph);
  if(autoOn){stopAutoGen();startAutoGen();}
  toast(`${pph}/hr applied`,'ok');updSettingsDisplay();closeSettings();
}
function toggleScrollGen(){scrollGen=document.getElementById('scrollToggle').checked;localStorage.setItem('negScrollGen',scrollGen);}
function clearAutoGen(){if(!confirm('Delete all auto-generated articles?')) return;const b=db.length;db=db.filter(i=>!i.auto);saveDB();rendSet.clear();render();updSettingsDisplay();toast(`Deleted ${b-db.length} articles`,'ok');}
window.onclick=e=>{if(e.target===document.getElementById('addModal')) closeAddModal();if(e.target===document.getElementById('settingsModal')) closeSettings();};

// â•â•â•â• TOAST â•â•â•â•
function toast(msg,type){
  document.querySelectorAll('.neg-toast').forEach(n=>n.remove());
  const n=document.createElement('div');n.className='neg-toast';n.textContent=msg;
  n.style.cssText=`position:fixed;top:20px;right:80px;background:${type==='ok'?'#0E0E0E':'#C0392B'};color:#FAFAFA;border:2px solid ${type==='ok'?'#3A3A3A':'#E05252'};padding:10px 20px;font-weight:700;font-size:11px;font-family:-apple-system,BlinkMacSystemFont,'Helvetica Neue',Arial,sans-serif;letter-spacing:1px;text-transform:uppercase;z-index:6000;box-shadow:3px 3px 0 ${type==='ok'?'#D0CEC9':'rgba(192,57,43,.3)'};animation:slideInR .25s`;
  document.body.appendChild(n);
  setTimeout(()=>{n.style.animation='slideOutR .25s forwards';setTimeout(()=>n.remove(),260);},3000);
}

// â•â•â•â• BOOT â€” show default data immediately, then fetch all sources aggressively â•â•â•â•
sortDB();
render();           // Show cached/default news right away
fetchAllSources();  // Immediately fetch all 10 sources in parallel
setInterval(fetchAllSources, 15*60*1000); // Re-fetch every 15 min
if(autoOn) startAutoGen();
</script>
</body>
</html>
